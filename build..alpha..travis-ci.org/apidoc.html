<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/FormidableLabs/nodejs-dashboard#readme"

    >nodejs-dashboard (v0.4.1)</a>
</h1>
<h4>Telemetry dashboard for node.js apps from the terminal!</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard">module nodejs-dashboard</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard._delayed">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>_delayed
            <span class="apidocSignatureSpan">(delay)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard._emitStats">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>_emitStats
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard._getStats">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>_getStats
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_line_graph">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_line_graph
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.cpu_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>cpu_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.dashboard">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>dashboard
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.destroy">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.eventloop_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>eventloop_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_gauge_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_gauge_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_graph_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_graph_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.metrics_provider">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>metrics_provider
            <span class="apidocSignatureSpan">(screen)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.stream_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>stream_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_line_graph.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_view.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>cpu_view.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>dashboard.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>eventloop_view.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_gauge_view.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_graph_view.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>metrics_provider.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>stream_view.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nodejs-dashboard.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.base_line_graph">module nodejs-dashboard.base_line_graph</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_line_graph.base_line_graph">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_line_graph
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.base_line_graph.prototype">module nodejs-dashboard.base_line_graph.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype._createGraph">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>_createGraph
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype._getXAxis">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>_getXAxis
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype._isHighwater">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>_isHighwater
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype._updateLabel">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>_updateLabel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype.destroy">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype.onEvent">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>onEvent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype.update">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>update
            <span class="apidocSignatureSpan">(values)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.base_view">module nodejs-dashboard.base_view</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_view.base_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.base_view.prototype">module nodejs-dashboard.base_view.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_view.prototype.destroy">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_view.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_view.prototype.getDefaultLayoutConfig">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_view.prototype.</span>getDefaultLayoutConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.base_view.prototype.recalculatePosition">
            function <span class="apidocSignatureSpan">nodejs-dashboard.base_view.prototype.</span>recalculatePosition
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.cpu_view">module nodejs-dashboard.cpu_view</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.cpu_view.cpu_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>cpu_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.cpu_view.prototype">module nodejs-dashboard.cpu_view.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.cpu_view.prototype.getDefaultLayoutConfig">
            function <span class="apidocSignatureSpan">nodejs-dashboard.cpu_view.prototype.</span>getDefaultLayoutConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.cpu_view.prototype.onEvent">
            function <span class="apidocSignatureSpan">nodejs-dashboard.cpu_view.prototype.</span>onEvent
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.dashboard">module nodejs-dashboard.dashboard</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.dashboard.dashboard">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>dashboard
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.dashboard.prototype">module nodejs-dashboard.dashboard.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.dashboard.prototype._configureKeys">
            function <span class="apidocSignatureSpan">nodejs-dashboard.dashboard.prototype.</span>_configureKeys
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.dashboard.prototype._createViews">
            function <span class="apidocSignatureSpan">nodejs-dashboard.dashboard.prototype.</span>_createViews
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.dashboard.prototype._showLayout">
            function <span class="apidocSignatureSpan">nodejs-dashboard.dashboard.prototype.</span>_showLayout
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.dashboard.prototype.onEvent">
            function <span class="apidocSignatureSpan">nodejs-dashboard.dashboard.prototype.</span>onEvent
            <span class="apidocSignatureSpan">(event)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.eventloop_view">module nodejs-dashboard.eventloop_view</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.eventloop_view.eventloop_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>eventloop_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.eventloop_view.prototype">module nodejs-dashboard.eventloop_view.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.eventloop_view.prototype.getDefaultLayoutConfig">
            function <span class="apidocSignatureSpan">nodejs-dashboard.eventloop_view.prototype.</span>getDefaultLayoutConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.eventloop_view.prototype.onEvent">
            function <span class="apidocSignatureSpan">nodejs-dashboard.eventloop_view.prototype.</span>onEvent
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.memory_gauge_view">module nodejs-dashboard.memory_gauge_view</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_gauge_view.memory_gauge_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_gauge_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.memory_gauge_view.prototype">module nodejs-dashboard.memory_gauge_view.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype._createViews">
            function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>_createViews
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.destroy">
            function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.getDefaultLayoutConfig">
            function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>getDefaultLayoutConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.onEvent">
            function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>onEvent
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.update">
            function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>update
            <span class="apidocSignatureSpan">(gauge, used, total)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.memory_graph_view">module nodejs-dashboard.memory_graph_view</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_graph_view.memory_graph_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_graph_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.memory_graph_view.prototype">module nodejs-dashboard.memory_graph_view.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_graph_view.prototype.getDefaultLayoutConfig">
            function <span class="apidocSignatureSpan">nodejs-dashboard.memory_graph_view.prototype.</span>getDefaultLayoutConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.memory_graph_view.prototype.onEvent">
            function <span class="apidocSignatureSpan">nodejs-dashboard.memory_graph_view.prototype.</span>onEvent
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.metrics_provider">module nodejs-dashboard.metrics_provider</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.metrics_provider.metrics_provider">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>metrics_provider
            <span class="apidocSignatureSpan">(screen)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.metrics_provider.prototype">module nodejs-dashboard.metrics_provider.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.metrics_provider.prototype._onMetrics">
            function <span class="apidocSignatureSpan">nodejs-dashboard.metrics_provider.prototype.</span>_onMetrics
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.metrics_provider.prototype.getMetrics">
            function <span class="apidocSignatureSpan">nodejs-dashboard.metrics_provider.prototype.</span>getMetrics
            <span class="apidocSignatureSpan">(limit)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.stream_view">module nodejs-dashboard.stream_view</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.stream_view.stream_view">
            function <span class="apidocSignatureSpan">nodejs-dashboard.</span>stream_view
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.stream_view.prototype">module nodejs-dashboard.stream_view.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.stream_view.prototype._createView">
            function <span class="apidocSignatureSpan">nodejs-dashboard.stream_view.prototype.</span>_createView
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.stream_view.prototype.destroy">
            function <span class="apidocSignatureSpan">nodejs-dashboard.stream_view.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.stream_view.prototype.getDefaultLayoutConfig">
            function <span class="apidocSignatureSpan">nodejs-dashboard.stream_view.prototype.</span>getDefaultLayoutConfig
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.stream_view.prototype.log">
            function <span class="apidocSignatureSpan">nodejs-dashboard.stream_view.prototype.</span>log
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nodejs-dashboard.utils">module nodejs-dashboard.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nodejs-dashboard.utils.getPercentUsed">
            function <span class="apidocSignatureSpan">nodejs-dashboard.utils.</span>getPercentUsed
            <span class="apidocSignatureSpan">(used, total)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard" id="apidoc.module.nodejs-dashboard">module nodejs-dashboard</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard._delayed" id="apidoc.element.nodejs-dashboard._delayed">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>_delayed
        <span class="apidocSignatureSpan">(delay)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_delayed = function (delay) {
  metrics.eventLoop.high = Math.max(metrics.eventLoop.high, delay);
  metrics.eventLoop.delay = delay;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    });

    it(&#x22;should report an event loop delay and cpu stats&#x22;, function (done) {
var delay = { current: 100, max: 150 };
var pusageResults = { cpu: 50 };
sandbox.stub(pusage, &#x22;stat&#x22;).yields(null, pusageResults);

agent.<span class="apidocCodeKeywordSpan">_delayed</span>(delay.max);
agent._delayed(delay.current);

var checkMetrics = function (metrics) {
  expect(metrics.eventLoop.delay).to.equal(delay.current);
  expect(metrics.eventLoop.high).to.equal(delay.max);
  expect(metrics.cpu.utilization).to.equal(pusageResults.cpu);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard._emitStats" id="apidoc.element.nodejs-dashboard._emitStats">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>_emitStats
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_emitStats = function () {

  _getStats(function (err, newMetrics) {
    if (err) {
      console.error(&#x22;Failed to load metrics: &#x22;, err); //eslint-disable-line
      if (socket &#x26;&#x26; socket.connected) {
        socket.emit(&#x22;error&#x22;, JSON.stringify(err));
      }
    } else if (socket &#x26;&#x26; socket.connected) {
      socket.emit(&#x22;metrics&#x22;, JSON.stringify(newMetrics));
    }

    resetEventMetrics();
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard._getStats" id="apidoc.element.nodejs-dashboard._getStats">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>_getStats
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getStats = function (cb) {
  _.merge(metrics.mem, process.memoryUsage());

  pusage.stat(process.pid, function (err, stat) {

    if (err) {
      return cb(err);
    }

    metrics.cpu.utilization = stat.cpu;
    return cb(null, metrics);
  });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    expect(metrics.mem.systemTotal).to.be.above(0);
    expect(metrics.mem.rss).to.be.above(0);
    expect(metrics.mem.heapTotal).to.be.above(0);
    expect(metrics.mem.heapUsed).to.be.above(0);
    expect(metrics.cpu.utilization).to.be.above(0);
  };

  agent.<span class="apidocCodeKeywordSpan">_getStats</span>(function (err, metrics) {
    tryCatch(done, function () {
      expect(err).to.be.null;
      checkMetrics(metrics);
    });
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_line_graph" id="apidoc.element.nodejs-dashboard.base_line_graph">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_line_graph
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BaseLineGraph(options) {
  BaseView.call(this, options);

  assert(options.metricsProvider, &#x22;View requires metricsProvider&#x22;);
  this.metricsProvider = options.metricsProvider;

  this.unit = options.unit || &#x22;&#x22;;
  this.label = this.layoutConfig.title ? util.format(&#x22; %s &#x22;, this.layoutConfig.title) : &#x22; &#x22;;

  this._remountOnResize = true;

  this.limit = this.layoutConfig.limit;
  this.seriesOptions = options.series;

  var xAxis = this._getXAxis();
  this.series = _.mapValues(options.series, function (seriesConfig) {
    if (seriesConfig.highwater &#x26;&#x26; !seriesConfig.color) {
      seriesConfig.color = &#x22;red&#x22;;
    }
    return {
      x: xAxis,
      y: _.times(this.layoutConfig.limit, _.constant(0)),
      style: {
        line: seriesConfig.color
      }
    };
  }.bind(this));

  this._createGraph(options);

  this._boundOnEvent = this.onEvent.bind(this);

  options.metricsProvider.on(&#x22;metrics&#x22;, this._boundOnEvent);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_view" id="apidoc.element.nodejs-dashboard.base_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BaseView(options) {
  assert(options.parent, &#x22;View requires parent&#x22;);
  assert(options.layoutConfig &#x26;&#x26; _.isFunction(options.layoutConfig.getPosition),
    &#x22;View requires layoutConfig option with getPosition function&#x22;);
  this._remountOnResize = false;
  this._getPosition = options.layoutConfig.getPosition;

  this._boundRecalculatePosition = this.recalculatePosition.bind(this);
  options.parent.screen.on(&#x22;resize&#x22;, this._boundRecalculatePosition);

  this.parent = options.parent;
  this.layoutConfig = _.assign(this.getDefaultLayoutConfig(options), options.layoutConfig.view);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.cpu_view" id="apidoc.element.nodejs-dashboard.cpu_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>cpu_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CpuView(options) {
  BaseLineGraph.call(this, _.merge({
    unit: &#x22;%&#x22;,
    maxY: 100,
    series: {
      cpu: { label: &#x22;&#x22; }
    }
  }, options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.dashboard" id="apidoc.element.nodejs-dashboard.dashboard">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>dashboard
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Dashboard(options) {
  this.options = options || {};
  this.views = {};
  this.settings = options.settings;

  this.screen = blessed.screen({
    smartCSR: true,
    title: options.appName
  });

  this.logProvider = new LogProvider(this.screen);
  this.metricsProvider = new MetricsProvider(this.screen);

  this._createViews();
  this._configureKeys();
  this.screen.render();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.destroy" id="apidoc.element.nodejs-dashboard.destroy">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  if (socket) {
    socket.close();
    socket = null;
  }
  if (options.intervalId) {
    clearInterval(options.intervalId);
    options.intervalId = null;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.getDefaultLayoutConfig()` - returns default layout parameters for your view
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">destroy</span>()` - use it to unsubscribe from events, destroy data etc
.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);

module.exports = function (BaseView) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.eventloop_view" id="apidoc.element.nodejs-dashboard.eventloop_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>eventloop_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventLoopView(options) {
  BaseLineGraph.call(this, _.merge({
    unit: &#x22;ms&#x22;,
    series: {
      delay: {},
      high: { highwater: true }
    }
  }, options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_gauge_view" id="apidoc.element.nodejs-dashboard.memory_gauge_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_gauge_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MemoryView(options) {
  BaseView.call(this, options);

  assert(options.metricsProvider, &#x22;View requires metricsProvider&#x22;);

  this.metricsProvider = options.metricsProvider;

  this._remountOnResize = true;
  this._boundOnEvent = this.onEvent.bind(this);

  this._createViews(options);

  options.metricsProvider.on(&#x22;metrics&#x22;, this._boundOnEvent);

  var metrics = this.metricsProvider.getMetrics(1)[0];

  if (metrics) {
    this.onEvent(metrics);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_graph_view" id="apidoc.element.nodejs-dashboard.memory_graph_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_graph_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MemoryGraphView(options) {
  BaseLineGraph.call(this, _.merge({
    unit: &#x22;%&#x22;,
    maxY: 100,
    series: {
      heap: { color: &#x22;green&#x22; },
      resident: {}
    }
  }, options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.metrics_provider" id="apidoc.element.nodejs-dashboard.metrics_provider">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>metrics_provider
        <span class="apidocSignatureSpan">(screen)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MetricsProvider(screen) {
  EventEmitter.call(this);

  this._metrics = [];

  screen.on(&#x22;metrics&#x22;, this._onMetrics.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.stream_view" id="apidoc.element.nodejs-dashboard.stream_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>stream_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StreamView(options) {
  BaseView.call(this, options);

  assert(options.logProvider, &#x22;StreamView requires logProvider&#x22;);

  if (this.layoutConfig.exclude) {
    this.excludeRegex = new RegExp(this.layoutConfig.exclude);
  }

  if (this.layoutConfig.include) {
    this.includeRegex = new RegExp(this.layoutConfig.include);
  }

  this.logProvider = options.logProvider;

  this._createView(options);

  var content = options.logProvider.getLog(this.layoutConfig.streams, options.scrollback);

  if (content.length &#x3e; 0) {
    this.log(content);
  }

  this._boundLog = this.log.bind(this);
  _.each(this.layoutConfig.streams, function (eventName) {
    this.logProvider.on(eventName, this._boundLog);
  }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.base_line_graph" id="apidoc.module.nodejs-dashboard.base_line_graph">module nodejs-dashboard.base_line_graph</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_line_graph.base_line_graph" id="apidoc.element.nodejs-dashboard.base_line_graph.base_line_graph">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_line_graph
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BaseLineGraph(options) {
  BaseView.call(this, options);

  assert(options.metricsProvider, &#x22;View requires metricsProvider&#x22;);
  this.metricsProvider = options.metricsProvider;

  this.unit = options.unit || &#x22;&#x22;;
  this.label = this.layoutConfig.title ? util.format(&#x22; %s &#x22;, this.layoutConfig.title) : &#x22; &#x22;;

  this._remountOnResize = true;

  this.limit = this.layoutConfig.limit;
  this.seriesOptions = options.series;

  var xAxis = this._getXAxis();
  this.series = _.mapValues(options.series, function (seriesConfig) {
    if (seriesConfig.highwater &#x26;&#x26; !seriesConfig.color) {
      seriesConfig.color = &#x22;red&#x22;;
    }
    return {
      x: xAxis,
      y: _.times(this.layoutConfig.limit, _.constant(0)),
      style: {
        line: seriesConfig.color
      }
    };
  }.bind(this));

  this._createGraph(options);

  this._boundOnEvent = this.onEvent.bind(this);

  options.metricsProvider.on(&#x22;metrics&#x22;, this._boundOnEvent);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.base_line_graph.prototype" id="apidoc.module.nodejs-dashboard.base_line_graph.prototype">module nodejs-dashboard.base_line_graph.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype._createGraph" id="apidoc.element.nodejs-dashboard.base_line_graph.prototype._createGraph">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>_createGraph
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createGraph = function (options) {
  this.node = contrib.line({
    label: this.label,
    border: &#x22;line&#x22;,
    numYLabels: 4,
    maxY: options.maxY,
    showLegend: false,
    wholeNumbersOnly: true,
    style: {
      border: {
        fg: this.layoutConfig.borderColor
      }
    }
  });

  this.recalculatePosition();

  this.parent.append(this.node);

  var values = this.metricsProvider.getMetrics(this.limit);
  _.each(values, function (value) {
    this.onEvent(value);
  }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      y: _.times(this.layoutConfig.limit, _.constant(0)),
      style: {
        line: seriesConfig.color
      }
    };
  }.bind(this));

  this.<span class="apidocCodeKeywordSpan">_createGraph</span>(options);

  this._boundOnEvent = this.onEvent.bind(this);

  options.metricsProvider.on(&#x22;metrics&#x22;, this._boundOnEvent);
};

BaseLineGraph.prototype = Object.create(BaseView.prototype);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype._getXAxis" id="apidoc.element.nodejs-dashboard.base_line_graph.prototype._getXAxis">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>_getXAxis
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getXAxis = function () {
  return _.reverse(_.times(this.limit, String));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.label = this.layoutConfig.title ? util.format(&#x22; %s &#x22;, this.layoutConfig.title) : &#x22; &#x22;;

this._remountOnResize = true;

this.limit = this.layoutConfig.limit;
this.seriesOptions = options.series;

var xAxis = this.<span class="apidocCodeKeywordSpan">_getXAxis</span>();
this.series = _.mapValues(options.series, function (seriesConfig) {
  if (seriesConfig.highwater &#x26;&#x26; !seriesConfig.color) {
    seriesConfig.color = &#x22;red&#x22;;
  }
  return {
    x: xAxis,
    y: _.times(this.layoutConfig.limit, _.constant(0)),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype._isHighwater" id="apidoc.element.nodejs-dashboard.base_line_graph.prototype._isHighwater">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>_isHighwater
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isHighwater = function (name) {
  return this.seriesOptions[name].highwater;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// Should be called by child&#x27;s onEvent handler
BaseLineGraph.prototype.update = function (values) {
_.each(values, function (value, seriesName) {
  if (!this.series[seriesName]) {
    return;
  }
  if (this.<span class="apidocCodeKeywordSpan">_isHighwater</span>(seriesName)) {
    this.series[seriesName].y = _.times(this.limit, _.constant(value));
  } else {
    this.series[seriesName].y.shift();
    this.series[seriesName].y.push(value);
  }
}.bind(this));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype._updateLabel" id="apidoc.element.nodejs-dashboard.base_line_graph.prototype._updateLabel">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>_updateLabel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_updateLabel = function () {
  // use view label + series labels/data

  var seriesLabels = _.map(this.series, function (series, id) {
    var seriesLabel = &#x22;&#x22;;
    if (this.seriesOptions[id].label) {
      seriesLabel = this.seriesOptions[id].label + &#x22; &#x22;;
    } else if (!this.seriesOptions[id].hasOwnProperty(&#x22;label&#x22;)) {
      seriesLabel = id + &#x22; &#x22;;
    }
    return util.format(&#x22;%s(%d%s)&#x22;, seriesLabel, _.last(this.series[id].y), this.unit);
  }.bind(this)).join(&#x22;, &#x22;);

  this.node.setLabel(util.format(&#x22;%s%s &#x22;, this.label, seriesLabels));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.series[seriesName].y = _.times(this.limit, _.constant(value));
  } else {
    this.series[seriesName].y.shift();
    this.series[seriesName].y.push(value);
  }
}.bind(this));

this.<span class="apidocCodeKeywordSpan">_updateLabel</span>();

this.node.setData(_.values(this.series));
};

BaseLineGraph.prototype._updateLabel = function () {
// use view label + series labels/data
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype.destroy" id="apidoc.element.nodejs-dashboard.base_line_graph.prototype.destroy">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  BaseView.prototype.destroy.call(this);

  this.metricsProvider.removeListener(&#x22;metrics&#x22;, this._boundOnEvent);

  this._boundOnEvent = null;
  this.metricsProvider = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.getDefaultLayoutConfig()` - returns default layout parameters for your view
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">destroy</span>()` - use it to unsubscribe from events, destroy data etc
.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);

module.exports = function (BaseView) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype.onEvent" id="apidoc.element.nodejs-dashboard.base_line_graph.prototype.onEvent">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>onEvent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEvent = function () {
  throw new Error(&#x22;BaseLineGraph onEvent should be overwritten&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  program: program,
  layoutsFile: program.layouts,
  settings: program.settings
});

server.on(&#x22;connection&#x22;, function (socket) {
  socket.on(&#x22;metrics&#x22;, function (data) {
    dashboard.<span class="apidocCodeKeywordSpan">onEvent</span>({ type: &#x22;metrics&#x22;, data: JSON.parse(data) });
  });

  socket.on(&#x22;error&#x22;, function (err) {
    exitWithError(&#x22;Received error from agent, exiting: &#x22;, err);
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_line_graph.prototype.update" id="apidoc.element.nodejs-dashboard.base_line_graph.prototype.update">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_line_graph.prototype.</span>update
        <span class="apidocSignatureSpan">(values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (values) {
  _.each(values, function (value, seriesName) {
    if (!this.series[seriesName]) {
      return;
    }
    if (this._isHighwater(seriesName)) {
      this.series[seriesName].y = _.times(this.limit, _.constant(value));
    } else {
      this.series[seriesName].y.shift();
      this.series[seriesName].y.push(value);
    }
  }.bind(this));

  this._updateLabel();

  this.node.setData(_.values(this.series));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    borderColor: &#x22;cyan&#x22;,
    title: &#x22;cpu utilization&#x22;,
    limit: 30
  };
};

CpuView.prototype.onEvent = function (data) {
  this.<span class="apidocCodeKeywordSpan">update</span>({ cpu: data.cpu.utilization.toFixed(1) });
};

module.exports = CpuView;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.base_view" id="apidoc.module.nodejs-dashboard.base_view">module nodejs-dashboard.base_view</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_view.base_view" id="apidoc.element.nodejs-dashboard.base_view.base_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>base_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function BaseView(options) {
  assert(options.parent, &#x22;View requires parent&#x22;);
  assert(options.layoutConfig &#x26;&#x26; _.isFunction(options.layoutConfig.getPosition),
    &#x22;View requires layoutConfig option with getPosition function&#x22;);
  this._remountOnResize = false;
  this._getPosition = options.layoutConfig.getPosition;

  this._boundRecalculatePosition = this.recalculatePosition.bind(this);
  options.parent.screen.on(&#x22;resize&#x22;, this._boundRecalculatePosition);

  this.parent = options.parent;
  this.layoutConfig = _.assign(this.getDefaultLayoutConfig(options), options.layoutConfig.view);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.base_view.prototype" id="apidoc.module.nodejs-dashboard.base_view.prototype">module nodejs-dashboard.base_view.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_view.prototype.destroy" id="apidoc.element.nodejs-dashboard.base_view.prototype.destroy">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_view.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  if (this.node) {
    this.parent.remove(this.node);
    this.node = null;
  }

  this.parent.screen.removeListener(&#x22;resize&#x22;, this._boundRecalculatePosition);
  this._boundRecalculatePosition = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.getDefaultLayoutConfig()` - returns default layout parameters for your view
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">destroy</span>()` - use it to unsubscribe from events, destroy data etc
.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);

module.exports = function (BaseView) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_view.prototype.getDefaultLayoutConfig" id="apidoc.element.nodejs-dashboard.base_view.prototype.getDefaultLayoutConfig">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_view.prototype.</span>getDefaultLayoutConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefaultLayoutConfig = function () {
  return { };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">getDefaultLayoutConfig</span>()` - returns default layout parameters for
 your view
- `BaseView.prototype.destroy()` - use it to unsubscribe from events, destroy data etc.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.base_view.prototype.recalculatePosition" id="apidoc.element.nodejs-dashboard.base_view.prototype.recalculatePosition">
        function <span class="apidocSignatureSpan">nodejs-dashboard.base_view.prototype.</span>recalculatePosition
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">recalculatePosition = function () {
  var newPosition = this._getPosition(this.parent);

  if (!_.isEqual(this.node.position, newPosition)) {
    this.node.position = newPosition;

    if (this._remountOnResize &#x26;&#x26; this.node.parent === this.parent) {
      this.parent.remove(this.node);
      this.parent.append(this.node);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
that receives `BaseView` and returns custom view, inherited from `BaseView`. Your view constructor will be called with `options`,
that have some useful properties:
- `logProvider` - use `logProvider.getLog(streams)` to get log history for `stdout` / `stderr` streams, or subscribe to stream events
 with `logProvider.on(stream, callback)`
- `metricsProvider` - in the same way, use `metricsProvider.getMetrics(limit)` or `metricsProvider.on(&#x22;metrics&#x22;, callback
)`

`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.<span class="apidocCodeKeywordSpan">recalculatePosition</span>()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.getDefaultLayoutConfig()` - returns default layout parameters for your view
- `BaseView.prototype.destroy()` - use it to unsubscribe from events, destroy data etc.

#### Custom view example
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.cpu_view" id="apidoc.module.nodejs-dashboard.cpu_view">module nodejs-dashboard.cpu_view</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.cpu_view.cpu_view" id="apidoc.element.nodejs-dashboard.cpu_view.cpu_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>cpu_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CpuView(options) {
  BaseLineGraph.call(this, _.merge({
    unit: &#x22;%&#x22;,
    maxY: 100,
    series: {
      cpu: { label: &#x22;&#x22; }
    }
  }, options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.cpu_view.prototype" id="apidoc.module.nodejs-dashboard.cpu_view.prototype">module nodejs-dashboard.cpu_view.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.cpu_view.prototype.getDefaultLayoutConfig" id="apidoc.element.nodejs-dashboard.cpu_view.prototype.getDefaultLayoutConfig">
        function <span class="apidocSignatureSpan">nodejs-dashboard.cpu_view.prototype.</span>getDefaultLayoutConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefaultLayoutConfig = function () {
  return {
    borderColor: &#x22;cyan&#x22;,
    title: &#x22;cpu utilization&#x22;,
    limit: 30
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">getDefaultLayoutConfig</span>()` - returns default layout parameters for
 your view
- `BaseView.prototype.destroy()` - use it to unsubscribe from events, destroy data etc.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.cpu_view.prototype.onEvent" id="apidoc.element.nodejs-dashboard.cpu_view.prototype.onEvent">
        function <span class="apidocSignatureSpan">nodejs-dashboard.cpu_view.prototype.</span>onEvent
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEvent = function (data) {
  this.update({ cpu: data.cpu.utilization.toFixed(1) });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  program: program,
  layoutsFile: program.layouts,
  settings: program.settings
});

server.on(&#x22;connection&#x22;, function (socket) {
  socket.on(&#x22;metrics&#x22;, function (data) {
    dashboard.<span class="apidocCodeKeywordSpan">onEvent</span>({ type: &#x22;metrics&#x22;, data: JSON.parse(data) });
  });

  socket.on(&#x22;error&#x22;, function (err) {
    exitWithError(&#x22;Received error from agent, exiting: &#x22;, err);
  });
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.dashboard" id="apidoc.module.nodejs-dashboard.dashboard">module nodejs-dashboard.dashboard</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.dashboard.dashboard" id="apidoc.element.nodejs-dashboard.dashboard.dashboard">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>dashboard
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Dashboard(options) {
  this.options = options || {};
  this.views = {};
  this.settings = options.settings;

  this.screen = blessed.screen({
    smartCSR: true,
    title: options.appName
  });

  this.logProvider = new LogProvider(this.screen);
  this.metricsProvider = new MetricsProvider(this.screen);

  this._createViews();
  this._configureKeys();
  this.screen.render();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.dashboard.prototype" id="apidoc.module.nodejs-dashboard.dashboard.prototype">module nodejs-dashboard.dashboard.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.dashboard.prototype._configureKeys" id="apidoc.element.nodejs-dashboard.dashboard.prototype._configureKeys">
        function <span class="apidocSignatureSpan">nodejs-dashboard.dashboard.prototype.</span>_configureKeys
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_configureKeys = function () {

  this.screen.key([&#x22;left&#x22;, &#x22;right&#x22;], _.throttle(function (ch, key) {
    var delta = key.name === &#x22;left&#x22; ? -1 : 1;
    var target = (this.currentLayout + delta + this.layouts.length) % this.layouts.length;
    this._showLayout(target);
  }.bind(this), THROTTLE_TIMEOUT));

  var helpNode = this.helpView.node;
  this.screen.key([&#x22;?&#x22;, &#x22;h&#x22;], function () {
    helpNode.toggle();
    this.screen.render();
  }.bind(this));

  this.screen.key(&#x22;escape&#x22;, function () {
    if (helpNode.visible) {
      helpNode.hide();
      this.screen.render();
    } else {
      this._showLayout(0);
    }
  }.bind(this));

  this.screen.key([&#x22;q&#x22;, &#x22;C-c&#x22;], function () {
    process.exit(0); // eslint-disable-line no-process-exit
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  title: options.appName
});

this.logProvider = new LogProvider(this.screen);
this.metricsProvider = new MetricsProvider(this.screen);

this._createViews();
this.<span class="apidocCodeKeywordSpan">_configureKeys</span>();
this.screen.render();
};

Dashboard.prototype._createViews = function () {
this.layouts = generateLayouts(this.options.layoutsFile);
this.views = [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.dashboard.prototype._createViews" id="apidoc.element.nodejs-dashboard.dashboard.prototype._createViews">
        function <span class="apidocSignatureSpan">nodejs-dashboard.dashboard.prototype.</span>_createViews
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createViews = function () {
  this.layouts = generateLayouts(this.options.layoutsFile);
  this.views = [];

  // container prevents stream view scrolling from interfering with side views
  this.container = blessed.box();
  this.screen.append(this.container);

  this.helpView = new HelpView({
    parent: this.container
  });

  this._showLayout(0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  smartCSR: true,
  title: options.appName
});

this.logProvider = new LogProvider(this.screen);
this.metricsProvider = new MetricsProvider(this.screen);

this.<span class="apidocCodeKeywordSpan">_createViews</span>();
this._configureKeys();
this.screen.render();
};

Dashboard.prototype._createViews = function () {
this.layouts = generateLayouts(this.options.layoutsFile);
this.views = [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.dashboard.prototype._showLayout" id="apidoc.element.nodejs-dashboard.dashboard.prototype._showLayout">
        function <span class="apidocSignatureSpan">nodejs-dashboard.dashboard.prototype.</span>_showLayout
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_showLayout = function (id) {
  if (this.currentLayout === id) {
    return;
  }
  _.each(this.views, function (view) {
    view.destroy();
  });

  this.views = [];

  _.each(this.layouts[id], function (layoutConfig) {
    var View;

    if (VIEW_MAP[layoutConfig.view.type]) {
      View = VIEW_MAP[layoutConfig.view.type];
    } else if (layoutConfig.view.module) {
      // eslint-disable-next-line global-require
      View = require(layoutConfig.view.module)(BaseView);
    }

    if (View) {
      if (this.settings[layoutConfig.view.type]) {
        layoutConfig = _.merge(layoutConfig, {
          view: this.settings[layoutConfig.view.type]
        });
      }
      var view = new View({
        parent: this.container,
        logProvider: this.logProvider,
        metricsProvider: this.metricsProvider,
        layoutConfig: layoutConfig
      });

      this.views.push(view);
    }
  }.bind(this));

  this.currentLayout = id;
  this.helpView.node.setFront();
  this.screen.render();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.container = blessed.box();
this.screen.append(this.container);

this.helpView = new HelpView({
  parent: this.container
});

this.<span class="apidocCodeKeywordSpan">_showLayout</span>(0);
};

Dashboard.prototype._configureKeys = function () {

this.screen.key([&#x22;left&#x22;, &#x22;right&#x22;], _.throttle(function (ch, key) {
  var delta = key.name === &#x22;left&#x22; ? -1 : 1;
  var target = (this.currentLayout + delta + this.layouts.length) % this.layouts.length;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.dashboard.prototype.onEvent" id="apidoc.element.nodejs-dashboard.dashboard.prototype.onEvent">
        function <span class="apidocSignatureSpan">nodejs-dashboard.dashboard.prototype.</span>onEvent
        <span class="apidocSignatureSpan">(event)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEvent = function (event) {
  this.screen.emit(event.type, event.data);
  // avoid double screen render for stream events (Element calls screen.render on scroll)
  // TODO dashboard shouldn&#x27;t know which events are used by which widgets
  if (event.type === &#x22;metrics&#x22;) {
    this.screen.render();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  program: program,
  layoutsFile: program.layouts,
  settings: program.settings
});

server.on(&#x22;connection&#x22;, function (socket) {
  socket.on(&#x22;metrics&#x22;, function (data) {
    dashboard.<span class="apidocCodeKeywordSpan">onEvent</span>({ type: &#x22;metrics&#x22;, data: JSON.parse(data) });
  });

  socket.on(&#x22;error&#x22;, function (err) {
    exitWithError(&#x22;Received error from agent, exiting: &#x22;, err);
  });
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.eventloop_view" id="apidoc.module.nodejs-dashboard.eventloop_view">module nodejs-dashboard.eventloop_view</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.eventloop_view.eventloop_view" id="apidoc.element.nodejs-dashboard.eventloop_view.eventloop_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>eventloop_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventLoopView(options) {
  BaseLineGraph.call(this, _.merge({
    unit: &#x22;ms&#x22;,
    series: {
      delay: {},
      high: { highwater: true }
    }
  }, options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.eventloop_view.prototype" id="apidoc.module.nodejs-dashboard.eventloop_view.prototype">module nodejs-dashboard.eventloop_view.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.eventloop_view.prototype.getDefaultLayoutConfig" id="apidoc.element.nodejs-dashboard.eventloop_view.prototype.getDefaultLayoutConfig">
        function <span class="apidocSignatureSpan">nodejs-dashboard.eventloop_view.prototype.</span>getDefaultLayoutConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefaultLayoutConfig = function () {
  return {
    borderColor: &#x22;cyan&#x22;,
    title: &#x22;event loop&#x22;,
    limit: 30
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">getDefaultLayoutConfig</span>()` - returns default layout parameters for
 your view
- `BaseView.prototype.destroy()` - use it to unsubscribe from events, destroy data etc.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.eventloop_view.prototype.onEvent" id="apidoc.element.nodejs-dashboard.eventloop_view.prototype.onEvent">
        function <span class="apidocSignatureSpan">nodejs-dashboard.eventloop_view.prototype.</span>onEvent
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEvent = function (data) {
  this.update({
    delay: data.eventLoop.delay,
    high: data.eventLoop.high
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  program: program,
  layoutsFile: program.layouts,
  settings: program.settings
});

server.on(&#x22;connection&#x22;, function (socket) {
  socket.on(&#x22;metrics&#x22;, function (data) {
    dashboard.<span class="apidocCodeKeywordSpan">onEvent</span>({ type: &#x22;metrics&#x22;, data: JSON.parse(data) });
  });

  socket.on(&#x22;error&#x22;, function (err) {
    exitWithError(&#x22;Received error from agent, exiting: &#x22;, err);
  });
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.memory_gauge_view" id="apidoc.module.nodejs-dashboard.memory_gauge_view">module nodejs-dashboard.memory_gauge_view</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_gauge_view.memory_gauge_view" id="apidoc.element.nodejs-dashboard.memory_gauge_view.memory_gauge_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_gauge_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MemoryView(options) {
  BaseView.call(this, options);

  assert(options.metricsProvider, &#x22;View requires metricsProvider&#x22;);

  this.metricsProvider = options.metricsProvider;

  this._remountOnResize = true;
  this._boundOnEvent = this.onEvent.bind(this);

  this._createViews(options);

  options.metricsProvider.on(&#x22;metrics&#x22;, this._boundOnEvent);

  var metrics = this.metricsProvider.getMetrics(1)[0];

  if (metrics) {
    this.onEvent(metrics);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.memory_gauge_view.prototype" id="apidoc.module.nodejs-dashboard.memory_gauge_view.prototype">module nodejs-dashboard.memory_gauge_view.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype._createViews" id="apidoc.element.nodejs-dashboard.memory_gauge_view.prototype._createViews">
        function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>_createViews
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createViews = function (options) {
  this.node = blessed.box({
    label: util.format(&#x22; %s &#x22;, this.layoutConfig.title),
    border: &#x22;line&#x22;,
    style: {
      border: {
        fg: this.layoutConfig.borderColor
      }
    }
  });

  this.recalculatePosition();

  this.heapGauge = contrib.gauge({ label: &#x22;heap&#x22; });
  this.node.append(this.heapGauge);

  this.rssGauge = contrib.gauge({ label: &#x22;resident&#x22;, top: &#x22;50%&#x22; });
  this.node.append(this.rssGauge);

  options.parent.append(this.node);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  smartCSR: true,
  title: options.appName
});

this.logProvider = new LogProvider(this.screen);
this.metricsProvider = new MetricsProvider(this.screen);

this.<span class="apidocCodeKeywordSpan">_createViews</span>();
this._configureKeys();
this.screen.render();
};

Dashboard.prototype._createViews = function () {
this.layouts = generateLayouts(this.options.layoutsFile);
this.views = [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.destroy" id="apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.destroy">
        function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  BaseView.prototype.destroy.call(this);

  this.metricsProvider.removeListener(&#x22;metrics&#x22;, this._boundOnEvent);

  this._boundOnEvent = null;
  this.metricsProvider = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.getDefaultLayoutConfig()` - returns default layout parameters for your view
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">destroy</span>()` - use it to unsubscribe from events, destroy data etc
.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);

module.exports = function (BaseView) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.getDefaultLayoutConfig" id="apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.getDefaultLayoutConfig">
        function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>getDefaultLayoutConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefaultLayoutConfig = function () {
  return {
    borderColor: &#x22;cyan&#x22;,
    title: &#x22;memory&#x22;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">getDefaultLayoutConfig</span>()` - returns default layout parameters for
 your view
- `BaseView.prototype.destroy()` - use it to unsubscribe from events, destroy data etc.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.onEvent" id="apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.onEvent">
        function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>onEvent
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEvent = function (data) {
  var mem = data.mem;
  this.update(this.heapGauge, mem.heapUsed, mem.heapTotal);
  this.update(this.rssGauge, mem.rss, mem.systemTotal);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  program: program,
  layoutsFile: program.layouts,
  settings: program.settings
});

server.on(&#x22;connection&#x22;, function (socket) {
  socket.on(&#x22;metrics&#x22;, function (data) {
    dashboard.<span class="apidocCodeKeywordSpan">onEvent</span>({ type: &#x22;metrics&#x22;, data: JSON.parse(data) });
  });

  socket.on(&#x22;error&#x22;, function (err) {
    exitWithError(&#x22;Received error from agent, exiting: &#x22;, err);
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.update" id="apidoc.element.nodejs-dashboard.memory_gauge_view.prototype.update">
        function <span class="apidocSignatureSpan">nodejs-dashboard.memory_gauge_view.prototype.</span>update
        <span class="apidocSignatureSpan">(gauge, used, total)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">update = function (gauge, used, total) {
  var percentUsed = utils.getPercentUsed(used, total);
  if (gauge === this.heapGauge) {
    gauge.setStack([
      { percent: percentUsed, stroke: &#x22;red&#x22; },
      { percent: MAX_PERCENT - percentUsed, stroke: &#x22;blue&#x22; }
    ]);
  } else {
    gauge.setPercent(percentUsed);
  }

  gauge.setLabel(
    util.format(&#x22;%s: %s / %s&#x22;, gauge.options.label, prettyBytes(used), prettyBytes(total))
  );
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    borderColor: &#x22;cyan&#x22;,
    title: &#x22;cpu utilization&#x22;,
    limit: 30
  };
};

CpuView.prototype.onEvent = function (data) {
  this.<span class="apidocCodeKeywordSpan">update</span>({ cpu: data.cpu.utilization.toFixed(1) });
};

module.exports = CpuView;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.memory_graph_view" id="apidoc.module.nodejs-dashboard.memory_graph_view">module nodejs-dashboard.memory_graph_view</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_graph_view.memory_graph_view" id="apidoc.element.nodejs-dashboard.memory_graph_view.memory_graph_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>memory_graph_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MemoryGraphView(options) {
  BaseLineGraph.call(this, _.merge({
    unit: &#x22;%&#x22;,
    maxY: 100,
    series: {
      heap: { color: &#x22;green&#x22; },
      resident: {}
    }
  }, options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.memory_graph_view.prototype" id="apidoc.module.nodejs-dashboard.memory_graph_view.prototype">module nodejs-dashboard.memory_graph_view.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_graph_view.prototype.getDefaultLayoutConfig" id="apidoc.element.nodejs-dashboard.memory_graph_view.prototype.getDefaultLayoutConfig">
        function <span class="apidocSignatureSpan">nodejs-dashboard.memory_graph_view.prototype.</span>getDefaultLayoutConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefaultLayoutConfig = function () {
  return {
    borderColor: &#x22;cyan&#x22;,
    title: &#x22;memory&#x22;,
    limit: 30
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">getDefaultLayoutConfig</span>()` - returns default layout parameters for
 your view
- `BaseView.prototype.destroy()` - use it to unsubscribe from events, destroy data etc.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.memory_graph_view.prototype.onEvent" id="apidoc.element.nodejs-dashboard.memory_graph_view.prototype.onEvent">
        function <span class="apidocSignatureSpan">nodejs-dashboard.memory_graph_view.prototype.</span>onEvent
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onEvent = function (data) {
  var mem = data.mem;
  this.update({
    heap: utils.getPercentUsed(mem.heapUsed, mem.heapTotal),
    resident: utils.getPercentUsed(mem.rss, mem.systemTotal)
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  program: program,
  layoutsFile: program.layouts,
  settings: program.settings
});

server.on(&#x22;connection&#x22;, function (socket) {
  socket.on(&#x22;metrics&#x22;, function (data) {
    dashboard.<span class="apidocCodeKeywordSpan">onEvent</span>({ type: &#x22;metrics&#x22;, data: JSON.parse(data) });
  });

  socket.on(&#x22;error&#x22;, function (err) {
    exitWithError(&#x22;Received error from agent, exiting: &#x22;, err);
  });
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.metrics_provider" id="apidoc.module.nodejs-dashboard.metrics_provider">module nodejs-dashboard.metrics_provider</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.metrics_provider.metrics_provider" id="apidoc.element.nodejs-dashboard.metrics_provider.metrics_provider">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>metrics_provider
        <span class="apidocSignatureSpan">(screen)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function MetricsProvider(screen) {
  EventEmitter.call(this);

  this._metrics = [];

  screen.on(&#x22;metrics&#x22;, this._onMetrics.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.metrics_provider.prototype" id="apidoc.module.nodejs-dashboard.metrics_provider.prototype">module nodejs-dashboard.metrics_provider.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.metrics_provider.prototype._onMetrics" id="apidoc.element.nodejs-dashboard.metrics_provider.prototype._onMetrics">
        function <span class="apidocSignatureSpan">nodejs-dashboard.metrics_provider.prototype.</span>_onMetrics
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_onMetrics = function (data) {
  this._metrics.push(data);

  this.emit(&#x22;metrics&#x22;, data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  afterEach(function () {
    sandbox.restore();
  });

  it(&#x22;should store metrics&#x22;, function () {
    _.each([&#x22;a&#x22;, &#x22;b&#x22;, &#x22;c&#x22;, &#x22;d&#x22;, &#x22;e&#x22;], function (data) {
      metricsProvider.<span class="apidocCodeKeywordSpan">_onMetrics</span>(data);
    });
    var limit = 3;
    expect(metricsProvider.getMetrics(limit)).to.deep.equal([&#x22;c&#x22;, &#x22;d&#x22;, &#x22;e&#x22;]);
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.metrics_provider.prototype.getMetrics" id="apidoc.element.nodejs-dashboard.metrics_provider.prototype.getMetrics">
        function <span class="apidocSignatureSpan">nodejs-dashboard.metrics_provider.prototype.</span>getMetrics
        <span class="apidocSignatureSpan">(limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMetrics = function (limit) {
  return this._metrics.slice(-limit);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  - `limit`: line graph views accept this option indicating how many data points to display

### Custom views

To define your own view, use `module` property. Module should export function,
that receives `BaseView` and returns custom view, inherited from `BaseView`. Your view constructor will be called with `options`,
that have some useful properties:
- `logProvider` - use `logProvider.getLog(streams)` to get log history for `stdout` / `stderr` streams, or subscribe to stream events
 with `logProvider.on(stream, callback)`
- `metricsProvider` - in the same way, use `metricsProvider.<span class="apidocCodeKeywordSpan">getMetrics</span>(limit)` or `metricsProvider
.on(&#x22;metrics&#x22;, callback)`

`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.stream_view" id="apidoc.module.nodejs-dashboard.stream_view">module nodejs-dashboard.stream_view</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.stream_view.stream_view" id="apidoc.element.nodejs-dashboard.stream_view.stream_view">
        function <span class="apidocSignatureSpan">nodejs-dashboard.</span>stream_view
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StreamView(options) {
  BaseView.call(this, options);

  assert(options.logProvider, &#x22;StreamView requires logProvider&#x22;);

  if (this.layoutConfig.exclude) {
    this.excludeRegex = new RegExp(this.layoutConfig.exclude);
  }

  if (this.layoutConfig.include) {
    this.includeRegex = new RegExp(this.layoutConfig.include);
  }

  this.logProvider = options.logProvider;

  this._createView(options);

  var content = options.logProvider.getLog(this.layoutConfig.streams, options.scrollback);

  if (content.length &#x3e; 0) {
    this.log(content);
  }

  this._boundLog = this.log.bind(this);
  _.each(this.layoutConfig.streams, function (eventName) {
    this.logProvider.on(eventName, this._boundLog);
  }.bind(this));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.stream_view.prototype" id="apidoc.module.nodejs-dashboard.stream_view.prototype">module nodejs-dashboard.stream_view.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.stream_view.prototype._createView" id="apidoc.element.nodejs-dashboard.stream_view.prototype._createView">
        function <span class="apidocSignatureSpan">nodejs-dashboard.stream_view.prototype.</span>_createView
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createView = function () {
  this.node = blessed.log({
    label: util.format(&#x22; %s &#x22;, this.layoutConfig.title || this.layoutConfig.streams.join(&#x22; / &#x22;)),

    scrollable: true,
    alwaysScroll: true,
    scrollback: this.layoutConfig.scrollback,
    scrollbar: {
      inverse: true
    },

    input: true,
    keys: true,
    mouse: true,

    tags: true,

    border: &#x22;line&#x22;,
    style: {
      fg: this.layoutConfig.fgColor,
      bg: this.layoutConfig.bgColor,
      border: {
        fg: this.layoutConfig.borderColor
      }
    }
  });

  fixLogScroll(this.node);

  this.recalculatePosition();

  this.parent.append(this.node);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (this.layoutConfig.include) {
  this.includeRegex = new RegExp(this.layoutConfig.include);
}

this.logProvider = options.logProvider;

this.<span class="apidocCodeKeywordSpan">_createView</span>(options);

var content = options.logProvider.getLog(this.layoutConfig.streams, options.scrollback);

if (content.length &#x3e; 0) {
  this.log(content);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.stream_view.prototype.destroy" id="apidoc.element.nodejs-dashboard.stream_view.prototype.destroy">
        function <span class="apidocSignatureSpan">nodejs-dashboard.stream_view.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  BaseView.prototype.destroy.call(this);

  _.each(this.layoutConfig.streams, function (eventName) {
    this.logProvider.removeListener(eventName, this._boundLog);
  }.bind(this));

  this._boundLog = null;
  this.logProvider = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.getDefaultLayoutConfig()` - returns default layout parameters for your view
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">destroy</span>()` - use it to unsubscribe from events, destroy data etc
.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);

module.exports = function (BaseView) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.stream_view.prototype.getDefaultLayoutConfig" id="apidoc.element.nodejs-dashboard.stream_view.prototype.getDefaultLayoutConfig">
        function <span class="apidocSignatureSpan">nodejs-dashboard.stream_view.prototype.</span>getDefaultLayoutConfig
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefaultLayoutConfig = function () {
  return {
    borderColor: &#x22;#F0F0F0&#x22;,
    fgColor: &#x22;white&#x22;,
    bgColor: &#x22;black&#x22;,
    streams: [&#x22;stdout&#x22;, &#x22;stderr&#x22;],
    scrollback: 1000
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

`BaseView` will also provide some properties and methods:
- `this.parent` - parent node. View should define `this.node` and attach it to `this.parent`
- `this.layoutConfig` - config from layout, with pre-filled default values
- `this.recalculatePosition()` - call it to apply position after defining `this.node`

View can override these methods:
- `BaseView.prototype.<span class="apidocCodeKeywordSpan">getDefaultLayoutConfig</span>()` - returns default layout parameters for
 your view
- `BaseView.prototype.destroy()` - use it to unsubscribe from events, destroy data etc.

#### Custom view example

```js
var blessed = require(&#x22;blessed&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nodejs-dashboard.stream_view.prototype.log" id="apidoc.element.nodejs-dashboard.stream_view.prototype.log">
        function <span class="apidocSignatureSpan">nodejs-dashboard.stream_view.prototype.</span>log
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function (data) {
  var lines = data.replace(/\n$/, &#x22;&#x22;);
  if (this.excludeRegex || this.includeRegex) {
    lines = lines.split(&#x22;\n&#x22;).reduce(function (arr, line) {
      if (this.includeRegex &#x26;&#x26; this.includeRegex.test(line)) {
        var match = line.match(this.includeRegex);
        arr.push(typeof match[1] === &#x22;undefined&#x22; ? line : match[1]);
      }
      if (this.excludeRegex &#x26;&#x26; !this.excludeRegex.test(line)) {
        arr.push(line);
      }

      return arr;
    }.bind(this), []);

    if (lines.length === 0) {
      return;
    }

    lines = lines.join(&#x22;\n&#x22;);
  }

  this.node.log(lines);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var child = spawn(command, args, {
env: process.env,
stdio: [null, null, null, null],
detached: true
});

console.<span class="apidocCodeKeywordSpan">log</span>(&#x22;Waiting for client connection on %d...&#x22;, port); //eslint-disable
-line

var server = new SocketIO(port);

var dashboard = new Dashboard({
appName: appName,
program: program,
layoutsFile: program.layouts,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nodejs-dashboard.utils" id="apidoc.module.nodejs-dashboard.utils">module nodejs-dashboard.utils</a></h1>


    <h2>
        <a href="#apidoc.element.nodejs-dashboard.utils.getPercentUsed" id="apidoc.element.nodejs-dashboard.utils.getPercentUsed">
        function <span class="apidocSignatureSpan">nodejs-dashboard.utils.</span>getPercentUsed
        <span class="apidocSignatureSpan">(used, total)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPercentUsed = function (used, total) {
  return Math.floor(used / total * MAX_PERCENT);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
MemoryView.prototype.onEvent = function (data) {
var mem = data.mem;
this.update(this.heapGauge, mem.heapUsed, mem.heapTotal);
this.update(this.rssGauge, mem.rss, mem.systemTotal);
};

MemoryView.prototype.update = function (gauge, used, total) {
var percentUsed = utils.<span class="apidocCodeKeywordSpan">getPercentUsed</span>(used, total);
if (gauge === this.heapGauge) {
  gauge.setStack([
    { percent: percentUsed, stroke: &#x22;red&#x22; },
    { percent: MAX_PERCENT - percentUsed, stroke: &#x22;blue&#x22; }
  ]);
} else {
  gauge.setPercent(percentUsed);
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
